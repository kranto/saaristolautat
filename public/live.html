<!DOCTYPE html>
<html>

<head>
  <title>Saaristolautat live by MarineTraffic.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="HandheldFriendly" content="true" />
  <meta charset="utf-8">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <link href="css/live.css" rel="stylesheet">
</head>

<body>

  <iframe id="map" class="map" src=""></iframe>

  <script>

    function getQueryVariable(variable) {
      var query = window.location.search.substring(1);
      var vars = query.split('&');
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      console.log('Query variable %s not found', variable);
    }

    var baseUrl = "https://www.marinetraffic.com/en/ais/embed/shownames:true/maptype:0/showmenu:true";
    var lng = getQueryVariable("lng") || 21;
    var lat = getQueryVariable("lat") || 60.1;
    var zoom = getQueryVariable("zoom") || 9;
    var url = baseUrl + "/centerx:" + lng + "/centery:" + lat + "/zoom:" + zoom;
    document.getElementById("map").setAttribute("src", url);
  </script>

</body>

</html>